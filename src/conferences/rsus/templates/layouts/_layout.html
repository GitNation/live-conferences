{% import "partials/_mixins.html" as mixins %}
{% import "ga/ga-mixins.njk" as ga_mixins %}
{% import "eventsBus/eventsBus.njk" as eventsLayer %}

<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	{% include "../partials/_media-tags.html" %}
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<link rel="stylesheet" media="all" href="css/app.css" />
	<link rel="preconnect" href="https://fonts.googleapis.com" />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@500&display=swap" />

	<link rel="preload" href="fonts/Mona-Sans.woff2" as="font" type="font/woff2" crossorigin />

	<link rel="shortcut icon" href="img/favicon.png" />

	{% block heroScript %}{% endblock %}
	<meta name="facebook-domain-verification" content="oavwlt9pnua8lbjyjlakzqndpp8m8m" />
	<link rel="preconnect" href="https://js.tito.io/" crossorigin />
	<link rel="dns-prefetch" href="https://js.tito.io/" />
	<link rel="preconnect" href="https://js-plugins.tito.io/" crossorigin />
	<link rel="dns-prefetch" href="https://js-plugins.tito.io/" />
	<link rel="preconnect" href="https://checkout.tito.io/" crossorigin />
	<link rel="dns-prefetch" href="https://checkout.tito.io/" />
	<script>
		const confFinished = '{{customContent.eventInfo.conferenceFinish}}' || '{{customContent.eventInfo.emsEvent.endDate}}';
	</script>

	<!-- Google Tag Manager -->
	<script>(function (w, d, s, l, i) {
			w[l] = w[l] || []; w[l].push({
				'gtm.start':
					new Date().getTime(), event: 'gtm.js'
			}); var f = d.getElementsByTagName(s)[0],
				j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
					'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
		})(window, document, 'script', 'dataLayer', 'GTM-TRBBDCDT');</script>
	<!-- End Google Tag Manager -->
</head>

<body>
	{{eventsLayer.initEventsLayer(pageKey)}}
	{{eventsLayer.mountPoint('dialog-popup')}}
	{{eventsLayer.sendContent('eventInfo', customContent.eventInfo )}}
	{{eventsLayer.sendContent('reactLayerConfig', {
	pagesPieceOfTexts: pagesPieceOfTexts,
	pageSectionsWorkshops: pages.main.pageSections.workshopsList,
	ticketsLink: pagesPieceOfTexts.ticket__link,
	pricesIncreaseDate: pages.main.pageSections.pricesIncreaseDate,
	pricesIncreaseDateInPerson: pages.main.pageSections.pricesIncreaseDateInPerson,
	calendarEventName: 'React Summit',
	calendarEventDescription: 'Watch it live at http://reactsummit.us',
	calendarWorkshopDescription: 'Please note, by adding the event to your calendar you do not register for the workshop. To register for the session please use the link sent from ti.to via email.',
	hideSpeakerPopupLabel: true
	} )}}
	{{eventsLayer.sendContent('customTracks', customContent.tracks )}}
	{{eventsLayer.sendContent('schedule', schedule )}}
	{{eventsLayer.sendContent('scheduleOffline', scheduleOffline )}}
	{{eventsLayer.sendContent('isOfflineTimeTrack', offlineTimeTrack )}}
	{{eventsLayer.sendContent('isAuth', not fakeLinks )}}
	{{eventsLayer.sendContent('isCustomTrackAvailable', customTrackAvailable )}}
	{{eventsLayer.sendContent('availableTracks', availableTracks)}}
	{{eventsLayer.sendContent('speakers', speakers)}}

	{{eventsLayer.sendContent('emsSchedule', emsSchedule )}}
	{{eventsLayer.sendContent('emsScheduleOffline', emsScheduleOffline )}}
	{{eventsLayer.sendContent('tracksOrdered', tracksOrdered )}}

	<!-- BEGIN content -->
	<div class="out">
		{% block content %}{% endblock %}
	</div>


	{% include "partials/_popup-promo.html" %}

	<!-- END content -->

	<!-- BEGIN scripts -->

	<script type="text/javascript" src="js/app.js"></script>
	<!-- END scripts -->

	<script type="text/javascript">
		var _gauges = _gauges || [];
		(function () {
			var t = document.createElement('script');
			t.type = 'text/javascript';
			t.async = true;
			t.id = 'gauges-tracker';
			t.setAttribute('data-site-id', '6405d49417410543dff805c0');
			t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
			t.src = 'https://d2fuc4clr7gvcn.cloudfront.net/track.js';
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(t, s);
		})();
	</script>

	<!-- Twitter conversion tracking base code -->
	<script>
		!function (e, t, n, s, u, a) {
			e.twq || (s = e.twq = function () {
				s.exe ? s.exe.apply(s, arguments) : s.queue.push(arguments);
			}, s.version = '1.1', s.queue = [], u = t.createElement(n), u.async = !0, u.src = 'https://static.ads-twitter.com/uwt.js',
				a = t.getElementsByTagName(n)[0], a.parentNode.insertBefore(u, a))
		}(window, document, 'script');
		twq('config', 'o3job');
	</script>
	<!-- End Twitter conversion tracking base code -->

	<!-- Facebook Pixel Code -->
	<script> !function (f, b, e, v, n, t, s) { if (f.fbq) return; n = f.fbq = function () { n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments) }; if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0'; n.queue = []; t = b.createElement(e); t.async = !0; t.src = v; s = b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t, s) }(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js'); fbq('init', '169214329234223'); fbq('track', 'PageView'); </script> <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=3274598616187643&ev=PageView&noscript=1" /></noscript> <!-- End Facebook Pixel Code -->

	<!-- Google tag (gtag.js) Google Ads -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=AW-805657772"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'AW-805657772');
	</script>

	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TRBBDCDT"
			height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->


	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-NBKBFKNH0C"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-NBKBFKNH0C');
	</script>

	<!-- LinkedIn -->
	<script type="text/javascript">
		_linkedin_partner_id = "5459738";
		window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
		window._linkedin_data_partner_ids.push(_linkedin_partner_id);
	</script>
	<script type="text/javascript">
		(function (l) {
			if (!l) {
				window.lintrk = function (a, b) { window.lintrk.q.push([a, b]) };
				window.lintrk.q = []
			}
			var s = document.getElementsByTagName("script")[0];
			var b = document.createElement("script");
			b.type = "text/javascript"; b.async = true;
			b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
			s.parentNode.insertBefore(b, s);
		})(window.lintrk);
	</script>
	<noscript>
		<img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=5459738&fmt=gif" />
	</noscript>

	<!-- Google Tag Manager -->
	<script>(function (w, d, s, l, i) {
			w[l] = w[l] || []; w[l].push({
				'gtm.start':
					new Date().getTime(), event: 'gtm.js'
			}); var f = d.getElementsByTagName(s)[0],
				j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
					'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
		})(window, document, 'script', 'dataLayer', 'GTM-KNK9RJL9');</script>
	<!-- End Google Tag Manager -->
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNK9RJL9"
			height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->

	<script type="text/javascript">
		window._mfq = window._mfq || [];
		(function () {
			var mf = document.createElement("script");
			mf.type = "text/javascript"; mf.defer = true;
			mf.src = "//cdn.mouseflow.com/projects/d11b5330-8d98-4364-a2b5-9d137a1dc5b8.js";
			document.getElementsByTagName("head")[0].appendChild(mf);
		})();
	</script>
</body>

</html>