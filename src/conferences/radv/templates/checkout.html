---
pageKey: checkout
headerBtn: true
titoHeader: false
innerPage: true
headerMod: visible

ogImage: https://media.graphassets.com/t5hJzUPlQvm1MLED96NI
ogUrl: https://reactadvanced.com
---

{% extends "layouts/_layout.html" %}

{% block content %}
{% include "parts/_header.html" %}
<main class="content">
   {% include "partials/_checkout.html" %}
</main>
{% include "parts/_footer.html" %}

<script>
   window.tito = window.tito || function () { (tito.q = tito.q || []).push(arguments); };

   tito('on:widget:loaded', function () {
      // "Lead" event when tito js widget actually initialized
      twq('event', 'tw-nyyow-odlu6', {});
   })
   tito('on:registration:started', function (data) {
      console.log('on:registration:started', data);

      // User clicker continue after selecting ticket and loaded the checkout modal
      twq('event', 'tw-nyyow-odlu5', {});
   })
   tito('on:registration:finished', function (data) {
      console.log('on:registration:finished', data);

      twq('track', 'Purchase', {
         value: Number(data.total),
         conversion_id: data.slug,
         currency: data.currency,
         num_items: data.tickets_count,
      });

      // Robert: "Custom" event separately from Purchase, has same payload
      twq('event', 'tw-nyyow-odlu7', {
         value: Number(data.total),
         conversion_id: data.slug,
         currency: data.currency,
         num_items: data.tickets_count,
      });

      // Linkedin purchase conversion
      window.lintrk('track', { conversion_id: 11620841 });
   })
</script>
{% endblock %}