---
pageKey: main
headerBtn: true
fakeLinks: true

ogImage: https://jsweekendny.com/img/ogImage.png
ogUrl: https://jsweekendny.com/
---

{% extends "layouts/_layout.html" %}

{% block content %}

{% include "parts/_header.html" %}


<div class="main js-main">
  {% include "parts/_hero.html" %}

  {% if pages[pageKey].pageSections.figmap %}
  {% include "parts/_figmap.html" %}
  {% endif %}

  {% if pages[pageKey].pageSections.whatIsIt %}
  {% include "parts/_what-is-it.html" %}
  {% endif %}

  {% include "parts/_footer.html" %}

</div>

{% if pages[pageKey].pageSections.figmap %}
<script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=GOOGLE_API_KEY&callback=initMap" defer></script>

<script>
  function initMap() {

    const styleMap = [
      {
        "featureType": "all",
        "elementType": "labels.text.fill",
        "stylers": [
          {
            "saturation": 36
          },
          {
            "color": "#3f3e3e"
          },
          {
            "lightness": 40
          }
        ]
      },
      {
        "featureType": "all",
        "elementType": "labels.text.stroke",
        "stylers": [
          {
            "visibility": "on"
          },
          {
            "color": "#000000"
          },
          {
            "lightness": 16
          }
        ]
      },
      {
        "featureType": "all",
        "elementType": "labels.icon",
        "stylers": [
          {
            "visibility": "off"
          }
        ]
      },
      {
        "featureType": "administrative",
        "elementType": "geometry",
        "stylers": [
          {
            "saturation": "10"
          },
          {
            "lightness": "14"
          }
        ]
      },
      {
        "featureType": "administrative",
        "elementType": "geometry.fill",
        "stylers": [
          {
            "color": "#000000"
          },
          {
            "lightness": 20
          }
        ]
      },
      {
        "featureType": "administrative",
        "elementType": "geometry.stroke",
        "stylers": [
          {
            "color": "#000000"
          },
          {
            "lightness": 17
          },
          {
            "weight": 1.2
          }
        ]
      },
      {
        "featureType": "administrative.country",
        "elementType": "all",
        "stylers": [
          {
            "visibility": "off"
          }
        ]
      },
      {
        "featureType": "administrative.province",
        "elementType": "all",
        "stylers": [
          {
            "visibility": "off"
          }
        ]
      },
      {
        "featureType": "administrative.locality",
        "elementType": "all",
        "stylers": [
          {
            "visibility": "on"
          }
        ]
      },
      {
        "featureType": "administrative.neighborhood",
        "elementType": "all",
        "stylers": [
          {
            "visibility": "off"
          }
        ]
      },
      {
        "featureType": "administrative.land_parcel",
        "elementType": "all",
        "stylers": [
          {
            "visibility": "off"
          }
        ]
      },
      {
        "featureType": "landscape",
        "elementType": "geometry",
        "stylers": [
          {
            "color": "#000000"
          },
          {
            "lightness": 20
          }
        ]
      },
      {
        "featureType": "landscape",
        "elementType": "geometry.fill",
        "stylers": [
          {
            "lightness": "2"
          }
        ]
      },
      {
        "featureType": "landscape.man_made",
        "elementType": "geometry.stroke",
        "stylers": [
          {
            "color": "#6a6767"
          }
        ]
      },
      {
        "featureType": "poi",
        "elementType": "geometry",
        "stylers": [
          {
            "color": "#000000"
          },
          {
            "lightness": 21
          }
        ]
      },
      {
        "featureType": "road.highway",
        "elementType": "geometry.fill",
        "stylers": [
          {
            "color": "#000000"
          },
          {
            "lightness": 17
          }
        ]
      },
      {
        "featureType": "road.highway",
        "elementType": "geometry.stroke",
        "stylers": [
          {
            "color": "#000000"
          },
          {
            "lightness": 29
          },
          {
            "weight": 0.2
          }
        ]
      },
      {
        "featureType": "road.arterial",
        "elementType": "geometry",
        "stylers": [
          {
            "color": "#000000"
          },
          {
            "lightness": 18
          }
        ]
      },
      {
        "featureType": "road.local",
        "elementType": "geometry",
        "stylers": [
          {
            "color": "#000000"
          },
          {
            "lightness": 16
          }
        ]
      },
      {
        "featureType": "transit",
        "elementType": "geometry",
        "stylers": [
          {
            "color": "#000000"
          },
          {
            "lightness": 19
          }
        ]
      },
      {
        "featureType": "water",
        "elementType": "geometry",
        "stylers": [
          {
            "color": "#000000"
          },
          {
            "lightness": 17
          }
        ]
      },
      {
        "featureType": "water",
        "elementType": "geometry.fill",
        "stylers": [
          {
            "lightness": "-27"
          },
          {
            "color": "#201f1f"
          }
        ]
      }
    ]

    const locations = [

      {
        lat: 40.70888142831903,
        lng: -74.05478380369546,
        title: 'React Summit US',
        text: '222 Jersey City Blvd, Jersey City, NJ 07305, United States',
        link: 'https://reactsummit.us/'
      },
      {
        lat: 40.739178355847194,
        lng: -74.00915428553695,
        title: 'WIX',
        text: '100 Gansevoort St, New York, NY 10014, United States',
        link: 'https://www.wix.com/'
      },

    ];

    const clusterStyles = [
      {
        url: 'img/clusterIconBg.svg',
        textColor: '#0C0C0C',
        backgroundColor: '#F7DF1E',
        textSize: 32,
        height: 48,
        width: 48
      },
    ];

    const map = new google.maps.Map(document.getElementById("map"), {
      zoom: 13,
      mapTypeControl: false,
      fullscreenControl: false,
      streetViewControl: false,
      rotateControl: false,
      clickableIcons: false,
      center: { lat: 40.726634713556436, lng: -74.02705953707783 },
      styles: styleMap,
    });

    var widthWindow = window.innerWidth
    if (widthWindow < 1023) {
      map.setZoom(11);
    }
    if (widthWindow < 767) {
      map.setZoom(9);
    }
    if (widthWindow > 1024) {
      map.setZoom(13);
    }

    const infoWindow = new google.maps.InfoWindow();

    const markers = locations.map(function (location, i) {
      const contentString =
        '<div class="infowindow">' +
        '<div class="infowindow__title">' + location.title + '</div>' +
        '<div class="infowindow__text">' + location.text + '</div>' +
        '<div class="infowindow__footer">' +
        '<a href=' + location.link + ' class="infowindow__link">View details</a>' +
        '</div>' +
        '</div>';
      const marker = new google.maps.Marker({
        position: { lat: location.lat, lng: location.lng },
        icon: { url: 'img/clusterIconBg.svg', scaledSize: new google.maps.Size(16, 16) }
      });

      marker.addListener("click", () => {
        infoWindow.setContent(contentString);
        infoWindow.open(map, marker);
      });
      return marker;
    });

    // Add a marker clusterer to manage the markers.
    const markerCluster = new MarkerClusterer(map, markers, {
      //imagePath: "https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",
      gridSize: 48,
      cssClass: 'cluster',
      styles: clusterStyles,
      minimumClusterSize: 2,
    });

  };

</script>
{% endif %}

{% endblock %}