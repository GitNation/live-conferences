<section class="section s-workshops-list _anim-items" id="workshops-list" data-suptitle="workshops">
  <div class="container">

    <div class="s-workshops-list__top">
      <div class="s-workshops-list__desc">
        {% if pagesPieceOfTexts.workshopsList__suptitle %}
        <div class="section__suptitle">{{pagesPieceOfTexts.workshopsList__suptitle}}</div>
        {% endif %}
        <h2 class="section__title" data-title="{{pagesPieceOfTexts.workshopsList__title}}">{{ mixins.text(pieceOfTexts, 'workshopsList__title') }}</h2>

        <div class="section__info">{{ mixins.text(pieceOfTexts, 'workshopsList__info') }}</div>
      </div>
      {% if pages[pageKey].pageSections.workshopsInfo %}

      <div class="s-workshops-list__row">
        {% for btn in pages[pageKey].pageSections.workshopsInfo %}
        <div class="s-workshops-list__row-item">
          <a href="{{btn.buttonLink}}" class="btn">{{btn.buttonText}}</a>
          <div class="s-workshops-list__row-title">{{btn.title}}</div>
        </div>
        {% endfor %}
      </div>

      {% endif %}

    </div>

    <div class="workshops-list">
      {% for workshop in workshops %}
      <div class="workshops-list__item {{'free' if workshop.includedToPackage else 'pro'}} {{'workshops-list__item--multiple-speaker' if workshop.trainers | length > 1 }}" id="workshop-{{workshop.slug}}-id">
        <div data-href="#workshop-{{workshop.slug}}" tabindex="0" role="button" aria-pressed="false" class="workshops-list__item-overlay" onclick={{ eventsLayer.openDialog({name: 'workshop-card' , isAuth: true, data: workshop | dump, values: 'name:' + workshop.title + ';' , category: 'workshop-click' }) }}>
        </div>
        <div class="workshops-list__content">
          <div class="workshops-list__type ">
            <!-- TODO remove this code when finishing conference -->
            {% if workshop.id === 'cm20at82n6x2v07tckglnypoi' or workshop.id === 'cm20anu1g6gzh07ukvzdhlq33' %}
            <span>WSH Pass</span>
            {% else %}
            {{ 'free' if workshop.includedToPackage else 'pro' }}
            {% endif %}
          </div>
          <div class="workshops-list__info">
            <h3 class="workshops-list__title">{{ workshop.title }}</h3>

            <div class="workshops-list__date">{{ workshop.location | safe }}</div>
          </div>
        </div>
        <div class="workshops-list__speakers">
          {% if workshop.trainers | length > 0 %}
          {% for trainer in workshop.trainers %}

          <div class="workshops-list__speaker">
            <img class="workshops-list__speaker-photo" src="{{ mixins.imageUrl(trainer.avatar.handle, 'resize=fit:crop,height:150,width:150/output=format:webp', '', trainer.avatar.url) }}" alt="{{ trainer.name }}" loading="lazy" />
            <div class="workshops-list__speaker-name">{{ trainer.name }}</div>
          </div>
          {% endfor %}
          {% elseif workshop.speaker %}

          <div class="workshops-list__speaker">
            <img class="workshops-list__speaker-photo" src="{{ mixins.imageUrl(workshop.speaker.avatar.handle, 'resize=fit:crop,height:150,width:150/output=format:webp', '', workshop.speaker.avatar.url) }}" alt="{{ workshop.speaker.name }}" loading="lazy" />
            <div class="workshops-list__speaker-name">{{ workshop.speaker.name }}</div>
          </div>
          {% endif %}
        </div>
        <div class="workshops-list__buttons {{'free' if workshop.includedToPackage else 'pro'}}">

          {% if workshop.id === 'cm20at82n6x2v07tckglnypoi' or workshop.id === 'cm20anu1g6gzh07ukvzdhlq33' %}
          <a class="btn " href="{{ pagesPieceOfTexts.workshopsList__proLink }}">Get In-Person Workshop Pass</a>
          <!-- TODO only for this workshop -->
          {% elif workshop.id === 2750 or workshop.id === 2758 %}
          <a class="btn btn--secondary" href="https://ti.to/gitnation/react-summit-us-edition-2024/with/bela-bohlender-and-felix-zhang-november-20" target="_blank">Get Full Ticket</a>

          {% else %}

          {% if workshop.includedToPackage %}
          <a class="btn btn--secondary" href="{{ pagesPieceOfTexts.workshopsList__freeLink }}">Get Full Ticket</a>
          {% else %}
          <a class="btn " href="{{ pagesPieceOfTexts.workshopsList__proLink }}">Get Pro Workshop</a>
          {% endif %}
          {% endif %}

        </div>
      </div>

      {% endfor %}
    </div>
  </div>
</section>
