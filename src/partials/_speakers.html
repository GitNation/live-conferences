<section class="section s-speakers {{speakersMod}}" id="speakers">
  <div class="container">
    {% if (pageKey == "main") %}
    <h3 role="heading" aria-level="1" class="section__title">{{ mixins.text(pieceOfTexts, 'speakers__title') }}</h3>
    {% else %}
    <h3 role="heading" aria-level="1" class="section__title">{{ mixins.text(pieceOfTexts, 'speakers__altTitle') }}</h3>
    {% endif %}

    {% if pagesPieceOfTexts.speakers__subtitle %}
    <h4 class="section__subtitle">{{ pagesPieceOfTexts.speakers__subtitle }}</h4>
    {% endif %}

    <div class="speakers-list">
      {% if (pages[pageKey].pageSections.cfp) %}
      <div class="speakers-list__item speakers-list__item_cfp">
        <p class="speaker__name">{{ pagesPieceOfTexts.cfp__title | safe }}</p>
        <p class="speaker__company">{{ pagesPieceOfTexts.cfp__desc | safe }}</p>
        {% if pagesPieceOfTexts.cfp__link %}
        <a class="btn" href="{{ pagesPieceOfTexts.cfp__link }}">{{ pagesPieceOfTexts.cfp__linkText }}</a>
        {% endif %}
      </div>
      {% endif %}

      {% for person in speakers[pageKey] %}
        <div class="speakers-list__item">
          <div class="speaker graphcms-container" {{ mixins.cmsData(person) }}>

            {{mixins.avatarWithDetails(person.activities.talks[0], person, not fakeLinks, eventsLayer, inPerson)}}

            {% if (person.name) %}
            <div class="speaker__name">{{person.name}}</div>
            {% endif %}
            {% if (person.company) and (person.company !== 'null, null') %}
            <div class="speaker__company">{{person.company}}</div>
            {% endif %}
            {% if (person.activities.talks[0].title) %}
            <div class="speaker__talk"><span>Talk:</span> {{person.activities.talks[0].title | safe}}</div>
            {% endif %}
            {% if (person.bio) %}
            <div class="speaker__desc">{{person.bio | safe}}</div>
            {% endif %}
            {% if (person.socials.length) %}
              <div class="speaker__socials">
                {% for item in person.socials %}
                  <a aria-label="{{(person.name + ' talks and workshops at GitNation portal' if item.icon == 'portal') or (person.name + ' twitter' if item.icon == 'tw') or (person.name + ' github' if item.icon == 'gh') or (person.name + ' personal site' if item.icon == 'site') or (person.name + ' mastodon' if item.icon == 'med')}}" href="{{item.link}}" target="_blank" class="speaker__social-link">
                    <svg class="icon icon-{{item.icon}}" role="img" aria-hidden="true">
                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="img/sprite.svg#icon-{{item.icon}}"></use>
                    </svg>
                  </a>

                {% endfor %}
              </div>
            {% endif %}
          </div>
        </div>
      {% endfor %}

      {% for announcedSoon in range(0, customContent.eventInfo.tbaSpeakersNumber) %}
        {% set smilesRandom = range(0,10) | random %}
        <div class="speakers-list__item">

          <div class="speaker graphcms-container" {{ mixins.cmsData(person) }}>
            <div class="speaker__photo">
              <picture>
                <source srcset="img/smiles/smile_index_{{smilesRandom}}.webp" type="image/webp">
                <img src="img/smiles/smile_index_{{smilesRandom}}.jpg" alt="to-be-announced-soon">
              </picture>
            </div>

            <div class="speaker__name">TO BE ANNOUNCED SOON {{smilesRandom}}</div>
          </div>
        </div>
      {% endfor %}

      {% if (pages[pageKey].pageSections.speakersMore) %}
      <div class="speakers-list__item speakers-list__item_cfp">
        <p class="speaker__name">{{ pagesPieceOfTexts.speakersMore__title | safe }}</p>
        <p class="speaker__company">{{ pagesPieceOfTexts.speakersMore__desc | safe }}</p>
        {% if pagesPieceOfTexts.speakersMore__link %}
        <a class="btn" href="{{ pagesPieceOfTexts.speakersMore__link }}">{{ pagesPieceOfTexts.speakersMore__linkText }}</a>
        {% endif %}
      </div>
      {% endif %}


    </div>

  </div>
</section>
